{"version":3,"sources":["../node_modules/d3-hierarchy/src/cluster.js","../node_modules/d3-hierarchy/src/hierarchy/count.js","../node_modules/d3-hierarchy/src/hierarchy/each.js","../node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","../node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","../node_modules/d3-hierarchy/src/hierarchy/find.js","../node_modules/d3-hierarchy/src/hierarchy/sum.js","../node_modules/d3-hierarchy/src/hierarchy/sort.js","../node_modules/d3-hierarchy/src/hierarchy/path.js","../node_modules/d3-hierarchy/src/hierarchy/ancestors.js","../node_modules/d3-hierarchy/src/hierarchy/descendants.js","../node_modules/d3-hierarchy/src/hierarchy/leaves.js","../node_modules/d3-hierarchy/src/hierarchy/links.js","../node_modules/d3-hierarchy/src/hierarchy/iterator.js","../node_modules/d3-hierarchy/src/hierarchy/index.js","../node_modules/d3-hierarchy/src/array.js","../node_modules/d3-hierarchy/src/pack/enclose.js","../node_modules/d3-hierarchy/src/pack/siblings.js","../node_modules/d3-hierarchy/src/accessors.js","../node_modules/d3-hierarchy/src/constant.js","../node_modules/d3-hierarchy/src/pack/index.js","../node_modules/d3-hierarchy/src/treemap/round.js","../node_modules/d3-hierarchy/src/treemap/dice.js","../node_modules/d3-hierarchy/src/partition.js","../node_modules/d3-hierarchy/src/stratify.js","../node_modules/d3-hierarchy/src/tree.js","../node_modules/d3-hierarchy/src/treemap/slice.js","../node_modules/d3-hierarchy/src/treemap/squarify.js","../node_modules/d3-hierarchy/src/treemap/index.js","../node_modules/d3-hierarchy/src/treemap/binary.js","../node_modules/d3-hierarchy/src/treemap/sliceDice.js","../node_modules/d3-hierarchy/src/treemap/resquarify.js","../node_modules/d3-hierarchy/src/index.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/array.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/selection/selectChild.js","../node_modules/d3-selection/src/selection/selectChildren.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/join.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/iterator.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/select.js","../node_modules/d3-selection/src/create.js","../node_modules/d3-selection/src/local.js","../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-selection/src/pointer.js","../node_modules/d3-selection/src/pointers.js","../node_modules/d3-selection/src/selectAll.js","../node_modules/d3-selection/src/index.js","../node_modules/d3-dispatch/src/dispatch.js","../node_modules/d3-dispatch/src/index.js","../node_modules/d3-drag/src/noevent.js","../node_modules/d3-drag/src/nodrag.js","../node_modules/d3-drag/src/constant.js","../node_modules/d3-drag/src/event.js","../node_modules/d3-drag/src/drag.js","../node_modules/d3-drag/src/index.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-color/src/math.js","../node_modules/d3-color/src/lab.js","../node_modules/d3-color/src/cubehelix.js","../node_modules/d3-color/src/index.js","../node_modules/d3-interpolate/src/basis.js","../node_modules/d3-interpolate/src/basisClosed.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/numberArray.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/value.js","../node_modules/d3-interpolate/src/discrete.js","../node_modules/d3-interpolate/src/hue.js","../node_modules/d3-interpolate/src/round.js","../node_modules/d3-interpolate/src/transform/decompose.js","../node_modules/d3-interpolate/src/transform/parse.js","../node_modules/d3-interpolate/src/transform/index.js","../node_modules/d3-interpolate/src/zoom.js","../node_modules/d3-interpolate/src/hsl.js","../node_modules/d3-interpolate/src/lab.js","../node_modules/d3-interpolate/src/hcl.js","../node_modules/d3-interpolate/src/cubehelix.js","../node_modules/d3-interpolate/src/piecewise.js","../node_modules/d3-interpolate/src/quantize.js","../node_modules/d3-interpolate/src/index.js","../node_modules/d3-timer/src/timer.js","../node_modules/d3-timer/src/timeout.js","../node_modules/d3-timer/src/interval.js","../node_modules/d3-timer/src/index.js","../node_modules/d3-transition/src/transition/schedule.js","../node_modules/d3-transition/src/interrupt.js","../node_modules/d3-transition/src/selection/interrupt.js","../node_modules/d3-transition/src/transition/tween.js","../node_modules/d3-transition/src/transition/interpolate.js","../node_modules/d3-transition/src/transition/attr.js","../node_modules/d3-transition/src/transition/attrTween.js","../node_modules/d3-transition/src/transition/delay.js","../node_modules/d3-transition/src/transition/duration.js","../node_modules/d3-transition/src/transition/ease.js","../node_modules/d3-transition/src/transition/easeVarying.js","../node_modules/d3-transition/src/transition/filter.js","../node_modules/d3-transition/src/transition/merge.js","../node_modules/d3-transition/src/transition/on.js","../node_modules/d3-transition/src/transition/remove.js","../node_modules/d3-transition/src/transition/select.js","../node_modules/d3-transition/src/transition/selectAll.js","../node_modules/d3-transition/src/transition/selection.js","../node_modules/d3-transition/src/transition/style.js","../node_modules/d3-transition/src/transition/styleTween.js","../node_modules/d3-transition/src/transition/text.js","../node_modules/d3-transition/src/transition/textTween.js","../node_modules/d3-transition/src/transition/transition.js","../node_modules/d3-transition/src/transition/end.js","../node_modules/d3-transition/src/transition/index.js","../node_modules/d3-ease/src/linear.js","../node_modules/d3-ease/src/quad.js","../node_modules/d3-ease/src/cubic.js","../node_modules/d3-ease/src/poly.js","../node_modules/d3-ease/src/sin.js","../node_modules/d3-ease/src/math.js","../node_modules/d3-ease/src/exp.js","../node_modules/d3-ease/src/circle.js","../node_modules/d3-ease/src/bounce.js","../node_modules/d3-ease/src/back.js","../node_modules/d3-ease/src/elastic.js","../node_modules/d3-ease/src/index.js","../node_modules/d3-transition/src/selection/transition.js","../node_modules/d3-transition/src/selection/index.js","../node_modules/d3-transition/src/active.js","../node_modules/d3-transition/src/index.js","../node_modules/d3-zoom/src/constant.js","../node_modules/d3-zoom/src/event.js","../node_modules/d3-zoom/src/transform.js","../node_modules/d3-zoom/src/noevent.js","../node_modules/d3-zoom/src/zoom.js","../node_modules/d3-zoom/src/index.js","../../src/d3.ts","../../src/utils.ts","../../src/initializeSVG.ts","../../../src/links/draw-links.ts","../../../src/links/link-enter.ts","../../../src/links/link-exit.ts","../../../src/links/link-update.ts","../../../src/nodes/node-enter.ts","../../../src/nodes/node-exit.ts","../../../src/nodes/node-update.ts","../../src/prepare-data.ts","../../src/index.ts","../node_modules/parcel/src/builtins/hmr-runtime.js"],"names":["defaultSeparation","a","b","parent","meanX","children","reduce","meanXReduce","length","x","c","maxY","maxYReduce","y","Math","max","leafLeft","node","leafRight","separation","dx","dy","nodeSize","cluster","root","previousNode","eachAfter","left","right","x0","x1","arguments","size","count","sum","i","value","callback","that","index","call","nodes","pop","push","next","n","data","compare","eachBefore","sort","end","start","ancestor","leastCommonAncestor","k","splice","aNodes","ancestors","bNodes","Array","from","leaves","links","each","source","target","current","reverse","hierarchy","Map","undefined","mapChildren","objectChildren","Node","child","childs","depth","computeHeight","node_copy","copyData","d","isArray","height","prototype","constructor","node_count","node_each","node_eachAfter","node_eachBefore","find","node_find","node_sum","node_sort","path","node_path","node_ancestors","descendants","node_descendants","node_leaves","node_links","copy","Symbol","iterator","node_iterator","shuffle","array","m","t","random","circles","B","p","e","enclosesWeak","encloseBasis","extendBasis","j","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","Error","dr","r","encloseBasis1","y1","r1","x2","y2","r2","x21","y21","r21","l","sqrt","x3","y3","r3","a2","a3","b2","b3","c2","c3","d1","d2","d3","ab","xa","xb","ya","yb","A","C","place","intersects","score","_","circle","previous","packEnclose","aa","ca","sj","sk","pack","optional","f","required","constantZero","defaultRadius","radius","padding","radiusLeaf","packChildren","translateChild","min","round","y0","partition","positionNode","roundNode","preroot","ambiguous","defaultId","id","defaultParentId","parentId","stratify","nodeId","nodeKey","nodeByKey","set","has","get","nextLeft","v","nextRight","moveSubtree","wm","wp","shift","change","s","z","executeShifts","w","nextAncestor","vim","TreeNode","Object","create","treeRoot","tree","firstWalk","secondWalk","sizeNode","bottom","tx","kx","ky","siblings","midpoint","apportion","vip","vop","vom","sip","sop","sim","som","phi","squarifyRatio","ratio","rows","row","nodeValue","i0","i1","sumValue","minValue","maxValue","newRatio","minRatio","alpha","beta","dice","slice","custom","squarify","tile","paddingStack","paddingInner","paddingTop","paddingRight","paddingBottom","paddingLeft","treemap","paddingOuter","sums","valueOffset","valueTarget","hi","mid","valueLeft","valueRight","xk","yk","resquarify","_squarify","xhtml","svg","xlink","xml","xmlns","name","prefix","indexOf","namespaces","hasOwnProperty","space","local","creatorInherit","document","ownerDocument","uri","namespaceURI","documentElement","createElement","createElementNS","creatorFixed","fullname","none","selector","querySelector","select","groups","_groups","subgroups","group","subgroup","subnode","__data__","Selection","_parents","empty","querySelectorAll","arrayAll","apply","parents","matches","childMatcher","childFind","match","childFirst","firstElementChild","filter","childrenFilter","selectAll","update","_enter","map","sparse","EnterNode","datum","_next","_parent","appendChild","insertBefore","bindIndex","enter","exit","groupLength","dataLength","bindKey","key","nodeByKeyValue","keyValues","keyValue","delete","bind","enterGroup","updateGroup","exitGroup","_exit","onenter","onupdate","onexit","append","remove","merge","order","selection","groups0","groups1","m0","m1","merges","group0","group1","compareDocumentPosition","parentNode","ascending","compareNode","sortgroups","sortgroup","NaN","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","getAttributeNS","getAttribute","defaultView","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","trim","split","classList","ClassList","_node","_names","add","join","contains","classedAdd","names","list","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","constantNull","before","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","deep","property","contextListener","listener","event","parseTypenames","typenames","type","onRemove","typename","on","__on","o","removeEventListener","options","onAdd","addEventListener","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","selection_selection","selection_select","selection_selectAll","selectChild","selection_selectChild","selectChildren","selection_selectChildren","selection_filter","selection_data","selection_enter","selection_exit","selection_join","selection_merge","selection_order","selection_sort","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","attr","selection_attr","selection_style","selection_property","classed","selection_classed","text","selection_text","html","selection_html","selection_raise","selection_lower","selection_append","insert","selection_insert","selection_remove","selection_clone","selection_datum","selection_on","dispatch","selection_dispatch","selection_iterator","nextId","Local","toString","sourceEvent","currentTarget","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","rect","clientLeft","top","clientTop","pageX","pageY","events","touches","noop","test","Dispatch","types","T","args","concat","nopropagation","stopImmediatePropagation","preventDefault","view","noevent","__noselect","MozUserSelect","yesdrag","noclick","setTimeout","DragEvent","subject","identifier","active","defineProperties","enumerable","configurable","defaultFilter","ctrlKey","button","defaultContainer","defaultSubject","defaultTouchable","navigator","maxTouchPoints","container","touchable","gestures","listeners","mousedownx","mousedowny","mousemoving","touchending","clickDistance2","drag","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","mousemoved","mouseupped","mouse","changedTouches","clearTimeout","touch","p0","clickDistance","factory","extend","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color","channels","assign","displayable","rgb","hex","color_formatHex","formatHex","formatHsl","color_formatHsl","formatRgb","color_formatRgb","hslConvert","format","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","g","rgbConvert","opacity","pow","rgb_formatHex","rgb_formatRgb","isNaN","h","Hsl","hsl","m2","hsl2rgb","radians","PI","degrees","K","Xn","Yn","Zn","t0","t1","t2","t3","labConvert","Lab","Hcl","hcl2lab","rgb2lrgb","xyz2lab","lab","lab2xyz","lrgb2rgb","hclConvert","atan2","lch","hcl","cos","sin","D","E","ED","EB","BC_DA","cubehelixConvert","Cubehelix","bl","cubehelix","cosh","sinh","basis","v0","v1","v2","v3","values","floor","linear","exponential","hue","gamma","nogamma","rgbGamma","rgbSpline","spline","colors","rgbBasis","rgbBasisClosed","basisClosed","isNumberArray","ArrayBuffer","isView","DataView","numberArray","genericArray","nb","na","Date","setTime","reA","reB","zero","one","bi","lastIndex","am","bm","bs","q","number","date","valueOf","object","range","identity","translateX","translateY","rotate","skewX","scaleX","scaleY","atan","svgNode","parseCss","DOMMatrix","WebKitCSSMatrix","isIdentity","parseSvg","transform","baseVal","consolidate","matrix","interpolateTransform","parse","pxComma","pxParen","degParen","translate","scale","interpolateTransformCss","interpolateTransformSvg","epsilon2","exp","tanh","zoomRho","rho","rho2","rho4","zoom","p1","ux0","uy0","w0","ux1","uy1","w1","S","log","b0","b1","r0","coshr0","u","duration","SQRT2","_1","_2","_4","hslLong","hclLong","cubehelixGamma","cubehelixLong","piecewise","interpolate","I","interpolator","samples","frame","timeout","interval","pokeDelay","taskHead","taskTail","clockLast","clockNow","clockSkew","clock","performance","now","setFrame","requestAnimationFrame","clearNow","Timer","_call","_time","timer","restart","delay","time","TypeError","sleep","stop","Infinity","timerFlush","wake","nap","poke","clearInterval","setInterval","elapsed","total","_restart","tick","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","timing","schedules","__transition","tween","ease","state","init","schedule","self","tweenRemove","tween0","tween1","tweenFunction","_id","tweenValue","transition","interpolateNumber","interpolateRgb","interpolateString","value1","string00","string1","interpolate0","string0","string10","attrTween","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","easeVarying","Transition","_name","every","onFunction","on0","on1","sit","removeFunction","inherit","styleNull","styleMaybeRemove","listener0","styleTween","styleInterpolate","textInterpolate","textTween","id0","id1","Promise","resolve","reject","cancel","interrupt","newId","selection_prototype","transition_select","transition_selectAll","transition_filter","transition_merge","transition_selection","transition_transition","transition_on","transition_attr","transition_attrTween","transition_style","transition_styleTween","transition_text","transition_textTween","transition_remove","transition_tween","transition_delay","transition_duration","transition_ease","transition_easeVarying","transition_end","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","exponent","polyIn","polyOut","polyInOut","pi","halfPi","sinIn","sinOut","sinInOut","tpmt","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","b4","b5","b6","b7","b8","b9","bounceIn","bounceOut","bounceInOut","overshoot","backIn","backOut","backInOut","tau","amplitude","period","elasticIn","asin","elasticOut","elasticInOut","defaultTiming","easeCubicInOut","selection_interrupt","selection_transition","ZoomEvent","Transform","applyX","applyY","invert","location","invertX","invertY","rescaleX","domain","rescaleY","__zoom","defaultExtent","SVGElement","hasAttribute","viewBox","width","clientWidth","clientHeight","defaultTransform","defaultWheelDelta","deltaY","deltaMode","defaultConstrain","extent","translateExtent","dx0","dx1","dy0","dy1","constrain","wheelDelta","scaleExtent","interpolateZoom","touchstarting","touchfirst","touchDelay","wheelDelay","tapDistance","wheeled","dblclicked","collection","scaleBy","scaleTo","k0","k1","centroid","translateBy","translateTo","clean","__zooming","Gesture","taps","emit","touch0","touch1","wheel","wheelidled","moved","shiftKey","started","l0","l1","dp","dl","hypot","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","JSON","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","generated","js","console","clear","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","body","getElementById","stackTrace","innerText","getParents","modules","dep","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"javascript.f2abf155.js","sourceRoot":"../demo","sourcesContent":["function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import {shuffle} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(Array.from(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","import array from \"../array.js\";\nimport enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","import {required} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        n = nodes.length,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    for (i = 0; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = parentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","export {default as cluster} from \"./cluster.js\";\nexport {default as hierarchy} from \"./hierarchy/index.js\";\nexport {default as pack} from \"./pack/index.js\";\nexport {default as packSiblings} from \"./pack/siblings.js\";\nexport {default as packEnclose} from \"./pack/enclose.js\";\nexport {default as partition} from \"./partition.js\";\nexport {default as stratify} from \"./stratify.js\";\nexport {default as tree} from \"./tree.js\";\nexport {default as treemap} from \"./treemap/index.js\";\nexport {default as treemapBinary} from \"./treemap/binary.js\";\nexport {default as treemapDice} from \"./treemap/dice.js\";\nexport {default as treemapSlice} from \"./treemap/slice.js\";\nexport {default as treemapSliceDice} from \"./treemap/sliceDice.js\";\nexport {default as treemapSquarify} from \"./treemap/squarify.js\";\nexport {default as treemapResquarify} from \"./treemap/resquarify.js\";\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    var group = select.apply(this, arguments);\n    return group == null ? [] : array(group);\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return this.children;\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport array from \"../array.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = array(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(selection) {\n  if (!(selection instanceof Selection)) throw new Error(\"invalid merge\");\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import creator from \"./creator.js\";\nimport select from \"./select.js\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","import pointer from \"./pointer.js\";\nimport sourceEvent from \"./sourceEvent.js\";\n\nexport default function(events, node) {\n  if (events.target) { // i.e., instanceof Event, not TouchList or iterable\n    events = sourceEvent(events);\n    if (node === undefined) node = events.currentTarget;\n    events = events.touches || [events];\n  }\n  return Array.from(events, event => pointer(event, node));\n}\n","import array from \"./array.js\";\nimport {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : array(selector)], root);\n}\n","export {default as create} from \"./create.js\";\nexport {default as creator} from \"./creator.js\";\nexport {default as local} from \"./local.js\";\nexport {default as matcher} from \"./matcher.js\";\nexport {default as namespace} from \"./namespace.js\";\nexport {default as namespaces} from \"./namespaces.js\";\nexport {default as pointer} from \"./pointer.js\";\nexport {default as pointers} from \"./pointers.js\";\nexport {default as select} from \"./select.js\";\nexport {default as selectAll} from \"./selectAll.js\";\nexport {default as selection} from \"./selection/index.js\";\nexport {default as selector} from \"./selector.js\";\nexport {default as selectorAll} from \"./selectorAll.js\";\nexport {styleValue as style} from \"./selection/style.js\";\nexport {default as window} from \"./window.js\";\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export {default as dispatch} from \"./dispatch.js\";\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default x => () => x;\n","export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // nobreak\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","export {default as drag} from \"./drag.js\";\nexport {default as dragDisable, yesdrag as dragEnable} from \"./nodrag.js\";\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nconst K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * degrees;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * radians;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * degrees - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export {default as color, rgb, hsl} from \"./color.js\";\nexport {default as lab, hcl, lch, gray} from \"./lab.js\";\nexport {default as cubehelix} from \"./cubehelix.js\";\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n","import {hue} from \"./color.js\";\n\nexport default function(a, b) {\n  var i = hue(+a, +b);\n  return function(t) {\n    var x = i(t);\n    return x - 360 * Math.floor(x / 360);\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0  u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","import {lab as colorLab} from \"d3-color\";\nimport color from \"./color.js\";\n\nexport default function lab(start, end) {\n  var l = color((start = colorLab(start)).l, (end = colorLab(end)).l),\n      a = color(start.a, end.a),\n      b = color(start.b, end.b),\n      opacity = color(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","import {default as value} from \"./value.js\";\n\nexport default function piecewise(interpolate, values) {\n  if (values === undefined) values = interpolate, interpolate = value;\n  var i = 0, n = values.length - 1, v = values[0], I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}\n","export default function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n}\n","export {default as interpolate} from \"./value.js\";\nexport {default as interpolateArray} from \"./array.js\";\nexport {default as interpolateBasis} from \"./basis.js\";\nexport {default as interpolateBasisClosed} from \"./basisClosed.js\";\nexport {default as interpolateDate} from \"./date.js\";\nexport {default as interpolateDiscrete} from \"./discrete.js\";\nexport {default as interpolateHue} from \"./hue.js\";\nexport {default as interpolateNumber} from \"./number.js\";\nexport {default as interpolateNumberArray} from \"./numberArray.js\";\nexport {default as interpolateObject} from \"./object.js\";\nexport {default as interpolateRound} from \"./round.js\";\nexport {default as interpolateString} from \"./string.js\";\nexport {interpolateTransformCss, interpolateTransformSvg} from \"./transform/index.js\";\nexport {default as interpolateZoom} from \"./zoom.js\";\nexport {default as interpolateRgb, rgbBasis as interpolateRgbBasis, rgbBasisClosed as interpolateRgbBasisClosed} from \"./rgb.js\";\nexport {default as interpolateHsl, hslLong as interpolateHslLong} from \"./hsl.js\";\nexport {default as interpolateLab} from \"./lab.js\";\nexport {default as interpolateHcl, hclLong as interpolateHclLong} from \"./hcl.js\";\nexport {default as interpolateCubehelix, cubehelixLong as interpolateCubehelixLong} from \"./cubehelix.js\";\nexport {default as piecewise} from \"./piecewise.js\";\nexport {default as quantize} from \"./quantize.js\";\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {Timer, now} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer, total = delay;\n  if (delay == null) return t.restart(callback, delay, time), t;\n  t._restart = t.restart;\n  t.restart = function(callback, delay, time) {\n    delay = +delay, time = time == null ? now() : +time;\n    t._restart(function tick(elapsed) {\n      elapsed += total;\n      t._restart(tick, total += delay, time);\n      callback(elapsed);\n    }, delay, time);\n  }\n  t.restart(callback, delay, time);\n  return t;\n}\n","export {\n  now,\n  timer,\n  timerFlush\n} from \"./timer.js\";\n\nexport {\n  default as timeout\n} from \"./timeout.js\";\n\nexport {\n  default as interval\n} from \"./interval.js\";\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","export const linear = t => +t;\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","export {\n  linear as easeLinear\n} from \"./linear.js\";\n\nexport {\n  quadInOut as easeQuad,\n  quadIn as easeQuadIn,\n  quadOut as easeQuadOut,\n  quadInOut as easeQuadInOut\n} from \"./quad.js\";\n\nexport {\n  cubicInOut as easeCubic,\n  cubicIn as easeCubicIn,\n  cubicOut as easeCubicOut,\n  cubicInOut as easeCubicInOut\n} from \"./cubic.js\";\n\nexport {\n  polyInOut as easePoly,\n  polyIn as easePolyIn,\n  polyOut as easePolyOut,\n  polyInOut as easePolyInOut\n} from \"./poly.js\";\n\nexport {\n  sinInOut as easeSin,\n  sinIn as easeSinIn,\n  sinOut as easeSinOut,\n  sinInOut as easeSinInOut\n} from \"./sin.js\";\n\nexport {\n  expInOut as easeExp,\n  expIn as easeExpIn,\n  expOut as easeExpOut,\n  expInOut as easeExpInOut\n} from \"./exp.js\";\n\nexport {\n  circleInOut as easeCircle,\n  circleIn as easeCircleIn,\n  circleOut as easeCircleOut,\n  circleInOut as easeCircleInOut\n} from \"./circle.js\";\n\nexport {\n  bounceOut as easeBounce,\n  bounceIn as easeBounceIn,\n  bounceOut as easeBounceOut,\n  bounceInOut as easeBounceInOut\n} from \"./bounce.js\";\n\nexport {\n  backInOut as easeBack,\n  backIn as easeBackIn,\n  backOut as easeBackOut,\n  backInOut as easeBackInOut\n} from \"./back.js\";\n\nexport {\n  elasticOut as easeElastic,\n  elasticIn as easeElasticIn,\n  elasticOut as easeElasticOut,\n  elasticInOut as easeElasticInOut\n} from \"./elastic.js\";\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import {Transition} from \"./transition/index.js\";\nimport {SCHEDULED} from \"./transition/schedule.js\";\n\nvar root = [null];\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      i;\n\n  if (schedules) {\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n      if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {\n        return new Transition([[node]], root, name, +i);\n      }\n    }\n  }\n\n  return null;\n}\n","import \"./selection/index.js\";\nexport {default as transition} from \"./transition/index.js\";\nexport {default as active} from \"./active.js\";\nexport {default as interrupt} from \"./interrupt.js\";\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled)\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event wont trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        currentTarget = event.currentTarget,\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","export {default as zoom} from \"./zoom.js\";\nexport {default as zoomTransform, identity as zoomIdentity} from \"./transform.js\";\n","import { hierarchy, stratify, tree, treemap } from \"d3-hierarchy\";\nimport { select, selectAll } from \"d3-selection\";\nimport { zoom } from \"d3-zoom\";\n\nexport default {\n  hierarchy,\n  stratify,\n  tree,\n  treemap,\n  select,\n  selectAll,\n  zoom,\n};\n","import { ExtendedHierarchyPointNode, ITreeConfig } from \"./typings\";\n\nexport const getAreaSize = (htmlId: string) => {\n  const SVGContainer = document.querySelector(`#${htmlId}`);\n  if (SVGContainer === null) {\n    throw new Error(`Cannot find dom element with id:${htmlId}`);\n  }\n  const areaWidth = SVGContainer.clientWidth;\n  const areaHeight = SVGContainer.clientHeight;\n  if (areaHeight === 0 || areaWidth === 0) {\n    throw new Error(\n      \"The tree can't be display because the svg height or width of the container is null\"\n    );\n  }\n  return { areaWidth, areaHeight };\n};\n\ntype Result = ExtendedHierarchyPointNode & { x0: number; y0: number };\n\nexport const getFirstDisplayedAncestor = (\n  ghostNodes: ExtendedHierarchyPointNode[],\n  viewableNodes: ExtendedHierarchyPointNode[],\n  id: string\n): Result => {\n  try {\n    // @ts-ignore\n    const parentNode: Result = ghostNodes.find((node) => node.id === id);\n\n    // @ts-ignore\n    const parentNodeId: string = parentNode.ancestors()[1].id;\n    const isPresentInOldNodes = viewableNodes.some(\n      (oldNode) => oldNode.id === parentNodeId\n    );\n\n    if (isPresentInOldNodes) {\n      return parentNode.ancestors()[1];\n    } else {\n      return getFirstDisplayedAncestor(ghostNodes, viewableNodes, parentNodeId);\n    }\n  } catch (e) {\n    // @ts-ignore\n    return ghostNodes.find((node) => node.id === id);\n  }\n};\n\nexport const setNodeLocation = (\n  xPosition: number,\n  yPosition: number,\n  settings: ITreeConfig\n) => {\n  if (settings.isHorizontal) {\n    return \"translate(\" + yPosition + \",\" + xPosition + \")\";\n  } else {\n    return \"translate(\" + xPosition + \",\" + yPosition + \")\";\n  }\n};\n\n// RefreshQueue ensures that don't run a refresh while another refresh\n// is in transition.\nexport class RefreshQueue {\n  // The queue is an array that contains objects. Each object represents an\n  // refresh action and only they have 2 properties:\n  // {\n  //     callback:          triggers when it's the first of queue and then it\n  //                        becomes null to prevent that callback executes more\n  //                        than once.\n  //     delayNextCallback: when callback is executed, queue will subtracts\n  //                        milliseconds from it. When it becomes 0, the entire\n  //                        object is destroyed (shifted) from the array and then\n  //                        the next item (if exists) will be executed similary\n  //                        to this.\n  // }\n  private static queue: Array<{\n    delayNextCallback: number;\n    callback: any;\n  }> = [];\n\n  // Contains setInterval ID\n  private static runner: number;\n\n  // Milliseconds of each iteration\n  private static runnerSpeed: number = 100;\n\n  // Developer internal magic number. Time added at end of refresh transition to\n  // let DOM and d3 rest before another refresh.\n  // 0 creates console and visual errors because getFirstDisplayedAncestor never\n  // found the needed id and setNodeLocation receives undefined parameters.\n  // Between 50 and 100 milliseconds seems enough for 10 nodes (demo example)\n  private static readonly extraDelayBetweenCallbacks: number = 100;\n\n  // Developer internal for debugging RefreshQueue class. Set true to see\n  // console \"real time\" queue of tasks.\n  // If there is a cleaner method, remove it!\n  private static showQueueLog: boolean = false;\n\n  // Adds one refresh action to the queue. When safe callback will be\n  // triggered\n  public static add(duration: number, callback: () => any) {\n    this.queue.push({\n      delayNextCallback: duration + this.extraDelayBetweenCallbacks,\n      callback: callback,\n    });\n    this.log(\n      this.queue.map((_) => _.delayNextCallback),\n      \"<-- New task !!!\"\n    );\n    if (!this.runner) {\n      this.runnerFunction();\n      //@ts-ignore\n      this.runner = setInterval(() => this.runnerFunction(), this.runnerSpeed);\n    }\n  }\n\n  // Each this.runnerSpeed milliseconds it's executed. It stops when finish.\n  private static runnerFunction() {\n    if (this.queue[0]) {\n      // ************************ Callback section ************************\n      if (this.queue[0].callback) {\n        this.log(\"Executing task, delaying next task...\");\n        try {\n          this.queue[0].callback();\n        } catch (e) {\n          console.error(e);\n        } finally {\n          // To prevent trigger callback more than once\n          this.queue[0].callback = null;\n        }\n      }\n      // ******************** Delay until next callback ********************\n      this.queue[0].delayNextCallback -= this.runnerSpeed;\n      this.log(this.queue.map((_) => _.delayNextCallback));\n      if (this.queue[0].delayNextCallback <= 0) {\n        this.queue.shift();\n      }\n    } else {\n      this.log(\"No task found\");\n      clearInterval(this.runner);\n      this.runner = 0;\n    }\n  }\n\n  // Print to console debug data if this.showQueueLog = true\n  private static log(...msg: any) {\n    if (this.showQueueLog) console.log(...msg);\n  }\n}\n","// Got to import d3 two times because of an issue with Webpack/Babel with d3.event\nimport { transform } from \"typescript\";\nimport d3 from \"./d3\";\nimport { ITreeConfig } from \"./typings\";\nimport { getAreaSize } from \"./utils\";\n\nexport const initiliazeSVG = (treeConfig: ITreeConfig) => {\n  const {\n    htmlId,\n    isHorizontal,\n    hasPanAndZoom,\n    hasPan,\n    hasZoom,\n    mainAxisNodeSpacing,\n    nodeHeight,\n    nodeWidth,\n    marginBottom,\n    marginLeft,\n    marginRight,\n    marginTop,\n  } = treeConfig;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft,\n  };\n  const { areaHeight, areaWidth } = getAreaSize(treeConfig.htmlId);\n  const width = areaWidth - margin.left - margin.right;\n  const height = areaHeight - margin.top - margin.bottom;\n\n  const svg = d3\n    .select(\"#\" + htmlId)\n    .append(\"svg\")\n    .attr(\"width\", areaWidth)\n    .attr(\"height\", areaHeight);\n\n  const [allowHasPan, allowHasZoom] = getHasPanAndZoom(\n    hasPanAndZoom,\n    hasPan,\n    hasZoom\n  );\n\n  if (!allowHasPan) {\n    svg\n      .on(\"mousedown.zoom\", null)\n      .on(\"touchstart.zoom\", null)\n      .on(\"touchmove.zoom\", null)\n      .on(\"touchend.zoom\", null);\n  }\n\n  if (!allowHasZoom) {\n    svg\n      .on(\"wheel.zoom\", null)\n      .on(\"mousewheel.zoom\", null)\n      .on(\"mousemove.zoom\", null)\n      .on(\"DOMMouseScroll.zoom\", null)\n      .on(\"dblclick.zoom\", null);\n  }\n\n  // Create a G container and move it according to the Zoom Behavior attached to the main <svg> element\n  const ZoomContainer = svg.append(\"g\");\n  const zoom = d3.zoom().on(\"zoom\", (e) => {\n    ZoomContainer.attr(\"transform\", () => e.transform);\n  });\n  // @ts-ignore\n  svg.call(zoom);\n\n  const MainG = ZoomContainer.append(\"g\").attr(\n    \"transform\",\n    mainAxisNodeSpacing === \"auto\"\n      ? \"translate(0,0)\"\n      : isHorizontal\n      ? \"translate(\" +\n        margin.left +\n        \",\" +\n        (margin.top + height / 2 - nodeHeight / 2) +\n        \")\"\n      : \"translate(\" +\n        (margin.left + width / 2 - nodeWidth / 2) +\n        \",\" +\n        margin.top +\n        \")\"\n  );\n  return MainG;\n};\n\nconst getHasPanAndZoom = (\n  hasPanAndZoom?: boolean,\n  hasPan?: boolean,\n  hasZoom?: boolean\n): [boolean, boolean] => {\n  let hasPanAndZoomResult: [boolean, boolean] = [false, false];\n  if (hasPanAndZoom === true || hasPanAndZoom === false) {\n    hasPanAndZoomResult = [hasPanAndZoom, hasPanAndZoom];\n  }\n  if (hasPan === true || hasPan === false) hasPanAndZoomResult[0] = hasPan;\n  if (hasZoom === true || hasZoom === false) hasPanAndZoomResult[1] = hasZoom;\n  return hasPanAndZoomResult;\n};\n","import { ITreeConfig } from \"../typings\";\n\ninterface ICoordinates {\n  x: number;\n  y: number;\n}\n\nexport const generateLinkLayout = (\n  s: ICoordinates, // source\n  d: ICoordinates, // destination\n  treeConfig: ITreeConfig\n): string => {\n  const { isHorizontal, nodeHeight, nodeWidth, linkShape } = treeConfig;\n  if (linkShape === \"orthogonal\") {\n    if (isHorizontal) {\n      return `M ${s.y} ${s.x + nodeHeight / 2}\n        L ${(s.y + d.y + nodeWidth) / 2} ${s.x + nodeHeight / 2}\n        L  ${(s.y + d.y + nodeWidth) / 2} ${d.x + nodeHeight / 2}\n          ${d.y + nodeWidth} ${d.x + nodeHeight / 2}`;\n    } else {\n      return `M ${s.x + nodeWidth / 2} ${s.y}\n        L ${s.x + nodeWidth / 2} ${(s.y + d.y + nodeHeight) / 2}\n        L  ${d.x + nodeWidth / 2} ${(s.y + d.y + nodeHeight) / 2}\n          ${d.x + nodeWidth / 2} ${d.y + nodeHeight} `;\n    }\n  } else if (linkShape === \"curve\") {\n    if (isHorizontal) {\n      return `M ${s.y} ${s.x + nodeHeight / 2}\n      L ${s.y - (s.y - d.y - nodeWidth) / 2 + 15} ${s.x + nodeHeight / 2}\n      Q${s.y - (s.y - d.y - nodeWidth) / 2} ${s.x + nodeHeight / 2}\n       ${s.y - (s.y - d.y - nodeWidth) / 2} ${s.x +\n        nodeHeight / 2 -\n        offsetPosOrNeg(s.x, d.x, 15)}\n      L ${s.y - (s.y - d.y - nodeWidth) / 2} ${d.x + nodeHeight / 2}\n      L ${d.y + nodeWidth} ${d.x + nodeHeight / 2}`;\n    } else {\n      return `M ${s.x + nodeWidth / 2} ${s.y}\n      L ${s.x + nodeWidth / 2} ${s.y - (s.y - d.y - nodeHeight) / 2 + 15}\n      Q${s.x + nodeWidth / 2} ${s.y - (s.y - d.y - nodeHeight) / 2}\n      ${s.x + nodeWidth / 2 - offsetPosOrNeg(s.x, d.x, 15)} ${s.y -\n        (s.y - d.y - nodeHeight) / 2}\n      L ${d.x + nodeWidth / 2} ${s.y - (s.y - d.y - nodeHeight) / 2} \n      L ${d.x + nodeWidth / 2} ${d.y + nodeHeight} `;\n    }\n  } else {\n    if (isHorizontal) {\n      return `M ${s.y} ${s.x + nodeHeight / 2}\n        C ${(s.y + d.y + nodeWidth) / 2} ${s.x + nodeHeight / 2}\n          ${(s.y + d.y + nodeWidth) / 2} ${d.x + nodeHeight / 2}\n          ${d.y + nodeWidth} ${d.x + nodeHeight / 2}`;\n    } else {\n      return `M ${s.x + nodeWidth / 2} ${s.y}\n        C ${s.x + nodeWidth / 2} ${(s.y + d.y + nodeHeight) / 2}\n          ${d.x + nodeWidth / 2} ${(s.y + d.y + nodeHeight) / 2}\n          ${d.x + nodeWidth / 2} ${d.y + nodeHeight} `;\n    }\n  }\n};\n\nconst offsetPosOrNeg = (val1: number, val2: number, offset: number) =>\n  val1 > val2 ? offset : val1 < val2 ? -offset : 0;\n","import { HierarchyPointNode } from \"d3-hierarchy\";\nimport { BaseType, Selection } from \"d3-selection\";\nimport { ExtendedHierarchyPointNode, ITreeConfig } from \"../typings\";\nimport { getFirstDisplayedAncestor } from \"../utils\";\nimport { generateLinkLayout } from \"./draw-links\";\n\nexport const drawLinkEnter = (\n  link: Selection<BaseType, HierarchyPointNode<{}>, SVGGElement, {}>,\n  settings: ITreeConfig,\n  nodes: ExtendedHierarchyPointNode[],\n  oldNodes: ExtendedHierarchyPointNode[]\n) =>\n  link\n    .enter()\n    .insert(\"path\", \"g\")\n    .attr(\"class\", \"link\")\n    .attr(\"d\", (d: any) => {\n      const firstDisplayedParentNode = getFirstDisplayedAncestor(\n        nodes,\n        oldNodes,\n        d.id\n      );\n      const o = {\n        x: firstDisplayedParentNode.x0,\n        y: firstDisplayedParentNode.y0,\n      };\n      return generateLinkLayout(o, o, settings);\n    })\n    .attr(\"fill\", \"none\")\n    .attr(\"stroke-width\", ({ data }: { data: any }) => settings.linkWidth(data))\n    .attr(\"stroke\", ({ data }: { data: any }) => settings.linkColor(data));\n","import { HierarchyPointNode } from \"d3-hierarchy\";\nimport { BaseType, Selection } from \"d3-selection\";\nimport { ExtendedHierarchyPointNode, ITreeConfig } from \"../typings\";\nimport { getFirstDisplayedAncestor } from \"../utils\";\nimport { generateLinkLayout } from \"./draw-links\";\n\nexport const drawLinkExit = (\n  link: Selection<BaseType, HierarchyPointNode<{}>, SVGGElement, {}>,\n  settings: ITreeConfig,\n  nodes: ExtendedHierarchyPointNode[],\n  oldNodes: ExtendedHierarchyPointNode[]\n) => {\n  link\n    .exit()\n    // @ts-ignore\n    .transition()\n    .duration(settings.duration)\n    .style(\"opacity\", 0)\n    .attr(\"d\", (d: any) => {\n      const firstDisplayedParentNode = getFirstDisplayedAncestor(\n        oldNodes,\n        nodes,\n        d.id\n      );\n      const o = {\n        x: firstDisplayedParentNode.x0,\n        y: firstDisplayedParentNode.y0,\n      };\n      return generateLinkLayout(o, o, settings);\n    })\n    .remove();\n};\n","import { HierarchyPointNode } from \"d3-hierarchy\";\nimport { BaseType, Selection } from \"d3-selection\";\nimport { ITreeConfig } from \"../typings\";\nimport { generateLinkLayout } from \"./draw-links\";\n\nexport const drawLinkUpdate = (\n  linkEnter: Selection<SVGPathElement, HierarchyPointNode<{}>, SVGGElement, {}>,\n  link: Selection<BaseType, HierarchyPointNode<{}>, SVGGElement, {}>,\n  settings: ITreeConfig\n) => {\n  // @ts-ignore\n  const linkUpdate = linkEnter.merge(link);\n\n  linkUpdate\n    // @ts-ignore\n    .transition()\n    .duration(settings.duration)\n    .attr(\"d\", (d: any) => {\n      return generateLinkLayout(d, d.parent, settings);\n    })\n    .attr(\"fill\", \"none\")\n    .attr(\"stroke-width\", ({ data }: { data: any }) => settings.linkWidth(data))\n    .attr(\"stroke\", ({ data }: { data: any }) => settings.linkColor(data));\n};\n","import { BaseType, Selection } from \"d3-selection\";\nimport { ExtendedHierarchyPointNode, ITreeConfig } from \"../typings\";\nimport { getFirstDisplayedAncestor, setNodeLocation } from \"../utils\";\n\nexport const drawNodeEnter = (\n  node: Selection<BaseType, ExtendedHierarchyPointNode, SVGGElement, {}>,\n  settings: ITreeConfig,\n  nodes: ExtendedHierarchyPointNode[],\n  oldNodes: ExtendedHierarchyPointNode[]\n) => {\n  const nodeEnter = node\n    .enter()\n    .append(\"g\")\n    .attr(\"class\", \"node\")\n    .attr(\"transform\", (d: any) => {\n      const firstDisplayedParentNode = getFirstDisplayedAncestor(\n        nodes,\n        oldNodes,\n        d.id\n      );\n      return setNodeLocation(\n        firstDisplayedParentNode.x0,\n        firstDisplayedParentNode.y0,\n        settings\n      );\n    });\n\n  nodeEnter\n    .append(\"foreignObject\")\n    .attr(\"width\", settings.nodeWidth)\n    .attr(\"height\", settings.nodeHeight);\n\n  return nodeEnter;\n};\n","import { BaseType, Selection } from \"d3-selection\";\nimport { ExtendedHierarchyPointNode, ITreeConfig } from \"../typings\";\nimport { getFirstDisplayedAncestor, setNodeLocation } from \"../utils\";\n\nexport const drawNodeExit = (\n  node: Selection<BaseType, ExtendedHierarchyPointNode, SVGGElement, {}>,\n  settings: ITreeConfig,\n  nodes: ExtendedHierarchyPointNode[],\n  oldNodes: ExtendedHierarchyPointNode[]\n) => {\n  const nodeExit = node\n    .exit()\n    // @ts-ignore\n    .transition()\n    .duration(settings.duration)\n    .style(\"opacity\", 0)\n    .attr(\"transform\", (d: any) => {\n      const firstDisplayedParentNode = getFirstDisplayedAncestor(\n        oldNodes,\n        nodes,\n        d.id\n      );\n      return setNodeLocation(\n        firstDisplayedParentNode.x0,\n        firstDisplayedParentNode.y0,\n        settings\n      );\n    })\n    .remove();\n\n  nodeExit.select(\"rect\").style(\"fill-opacity\", 1e-6);\n  nodeExit.select(\"circle\").attr(\"r\", 1e-6);\n  nodeExit.select(\"text\").style(\"fill-opacity\", 1e-6);\n};\n","import { BaseType, Selection } from \"d3-selection\";\nimport { ExtendedHierarchyPointNode, ITreeConfig } from \"../typings\";\n\nexport const drawNodeUpdate = (\n  nodeEnter: Selection<\n    SVGGElement,\n    ExtendedHierarchyPointNode,\n    SVGGElement,\n    {}\n  >,\n  node: Selection<BaseType, ExtendedHierarchyPointNode, SVGGElement, {}>,\n  settings: ITreeConfig\n) => {\n  // @ts-ignore\n  const nodeUpdate = nodeEnter.merge(node);\n  nodeUpdate\n    // @ts-ignore\n    .transition()\n    .duration(settings.duration)\n    .attr(\"transform\", (d: any) => {\n      return settings.isHorizontal\n        ? \"translate(\" + d.y + \",\" + d.x + \")\"\n        : \"translate(\" + d.x + \",\" + d.y + \")\";\n    });\n\n  nodeUpdate\n    .select(\"foreignObject\")\n    .attr(\"width\", settings.nodeWidth)\n    .attr(\"height\", settings.nodeHeight)\n    .style(\"overflow\", \"visible\")\n    .on(\"click\", settings.onNodeClick)\n    .on(\"mouseenter\", settings.onNodeMouseEnter)\n    .on(\"mouseleave\", settings.onNodeMouseLeave)\n    .html((d) => settings.renderNode({ ...d, settings }));\n};\n","import { HierarchyNode } from \"d3-hierarchy\";\nimport d3 from \"./d3\";\nimport { ITreeConfig } from \"./typings\";\nimport { getAreaSize } from \"./utils\";\n\nexport const generateNestedData = (\n  data: any,\n  treeConfig: ITreeConfig\n): HierarchyNode<any> => {\n  const { idKey, relationnalField, hasFlatData } = treeConfig;\n  return hasFlatData\n    ? d3\n        .stratify()\n        .id((d: any) => d[idKey])\n        .parentId((d: any) => d[relationnalField])(data)\n    : d3.hierarchy(data, d => d[relationnalField]);\n};\n\nexport const generateBasicTreemap = (treeConfig: ITreeConfig) => {\n  const { areaHeight, areaWidth } = getAreaSize(treeConfig.htmlId);\n  return treeConfig.mainAxisNodeSpacing === \"auto\" && treeConfig.isHorizontal\n    ? d3\n        .tree()\n        .size([\n          areaHeight - treeConfig.nodeHeight,\n          areaWidth - treeConfig.nodeWidth,\n        ])\n    : treeConfig.mainAxisNodeSpacing === \"auto\" && !treeConfig.isHorizontal\n    ? d3\n        .tree()\n        .size([\n          areaWidth - treeConfig.nodeWidth,\n          areaHeight - treeConfig.nodeHeight,\n        ])\n    : treeConfig.isHorizontal === true\n    ? d3\n        .tree()\n        .nodeSize([\n          treeConfig.nodeHeight * treeConfig.secondaryAxisNodeSpacing,\n          treeConfig.nodeWidth,\n        ])\n    : d3\n        .tree()\n        .nodeSize([\n          treeConfig.nodeWidth * treeConfig.secondaryAxisNodeSpacing,\n          treeConfig.nodeHeight,\n        ]);\n};\n","import { HierarchyPointNode } from \"d3-hierarchy\";\nimport { Selection } from \"d3-selection\";\nimport { initiliazeSVG } from \"./initializeSVG\";\nimport { drawLinkEnter } from \"./links/link-enter\";\nimport { drawLinkExit } from \"./links/link-exit\";\nimport { drawLinkUpdate } from \"./links/link-update\";\nimport { drawNodeEnter } from \"./nodes/node-enter\";\nimport { drawNodeExit } from \"./nodes/node-exit\";\nimport { drawNodeUpdate } from \"./nodes/node-update\";\nimport { generateBasicTreemap, generateNestedData } from \"./prepare-data\";\nimport { ExtendedHierarchyPointNode, ITreeConfig } from \"./typings\";\nimport { RefreshQueue } from \"./utils\";\n\nexport function create(userSettings: Partial<ITreeConfig>) {\n  const defaultSettings: ITreeConfig = {\n    htmlId: \"\",\n    idKey: \"id\",\n    relationnalField: \"father\",\n    hasFlatData: true,\n    nodeWidth: 160,\n    nodeHeight: 100,\n    mainAxisNodeSpacing: 300,\n    renderNode: () => \"Node\",\n    linkColor: () => \"#ffcc80\",\n    linkWidth: () => 10,\n    linkShape: \"quadraticBeziers\",\n    isHorizontal: true,\n    hasPanAndZoom: false,\n    duration: 600,\n    onNodeClick: () => undefined,\n    onNodeMouseEnter: () => undefined,\n    onNodeMouseLeave: () => undefined,\n    marginBottom: 0,\n    marginLeft: 0,\n    marginRight: 0,\n    marginTop: 0,\n    secondaryAxisNodeSpacing: 1.25,\n  };\n  let settings: ITreeConfig = {\n    ...defaultSettings,\n    ...userSettings,\n  };\n  if (typeof userSettings.hasPanAndZoom !== \"undefined\") {\n    console.warn(\n      \"[DEPRECATED] hasPanAndZoom is deprecated and will be removed in treeviz version 3. Use hasPan and hasZoom instead\"\n    );\n  }\n  let oldNodes: ExtendedHierarchyPointNode[] = [];\n\n  function draw(\n    svg: Selection<SVGGElement, {}, HTMLElement, any>,\n    computedTree: HierarchyPointNode<{}>\n  ) {\n    const nodes = computedTree.descendants() as ExtendedHierarchyPointNode[];\n\n    const links = computedTree.descendants().slice(1);\n\n    const { mainAxisNodeSpacing: mainAxisNodeSpacing } = settings;\n    if (mainAxisNodeSpacing !== \"auto\") {\n      // Normalize for fixed-depth.\n      nodes.forEach((d: any) => {\n        d.y = d.depth * settings.nodeWidth * mainAxisNodeSpacing;\n      });\n    }\n\n    nodes.forEach((currentNode: ExtendedHierarchyPointNode) => {\n      const currentNodeOldPosition = oldNodes.find(\n        (node) => node.id === currentNode.id\n      );\n      currentNode.x0 = currentNodeOldPosition\n        ? currentNodeOldPosition.x0\n        : currentNode.x;\n      currentNode.y0 = currentNodeOldPosition\n        ? currentNodeOldPosition.y0\n        : currentNode.y;\n    });\n\n    // ****************** Nodes section ***************************\n    const node = svg.selectAll(\"g.node\").data(nodes, (d: any) => {\n      return d[settings.idKey];\n    });\n\n    const nodeEnter = drawNodeEnter(node, settings, nodes, oldNodes);\n    drawNodeUpdate(nodeEnter, node, settings);\n    drawNodeExit(node, settings, nodes, oldNodes);\n\n    // ****************** links section ***************************\n\n    const link = svg.selectAll(\"path.link\").data(links, (d: any) => {\n      return d.id;\n    });\n\n    const linkEnter = drawLinkEnter(link, settings, nodes, oldNodes);\n    drawLinkUpdate(linkEnter, link, settings);\n    drawLinkExit(link, settings, nodes, oldNodes);\n\n    oldNodes = [...nodes];\n  }\n\n  function refresh(data: any, newSettings?: Partial<ITreeConfig>) {\n    RefreshQueue.add(settings.duration, () => {\n      if (newSettings) {\n        settings = { ...settings, ...newSettings };\n      }\n      const nestedData = generateNestedData(data, settings);\n      const treemap = generateBasicTreemap(settings);\n      const computedTree = treemap(nestedData); // mutation\n\n      // @ts-ignore\n      draw(svg, computedTree);\n    });\n  }\n\n  function clean(keepConfig: boolean) {\n    const myNode = keepConfig\n      ? document.querySelector(`#${settings.htmlId} svg g`)\n      : document.querySelector(`#${settings.htmlId}`);\n    if (myNode) {\n      while (myNode.firstChild) {\n        myNode.removeChild(myNode.firstChild);\n      }\n    }\n    oldNodes = [];\n  }\n\n  const treeObject = { refresh, clean };\n\n  const svg = initiliazeSVG(settings);\n  return treeObject;\n}\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}